{% extends "base.html" %}
{%  load devicetags %}

{% block title %}{{actionstring}} {% if object != None %}{{object}}{% else %}Object{% endif %}{% endblock %}

{% block header %}{{actionstring}} {% if object != None %}{{object}}{% else %}Object{% endif %}{% endblock %}
{% block content %}
<div class="row">
  <div class="small-12 large-6 large-centered columns panel">
<form action="" method="post" class="form-horizontal">{% csrf_token %}
{{form}}
<input type="submit" value="Submit" class="button button-primary" />
</form>

</div>
</div>
{% endblock %}

{% block scriptend %}
$( "input:text[name=name]" ).keyup(function() {
	if($(this).val().length > 1) {
		Dajaxice.devices.complete_names(Dajax.process,{'classtype':'{{type}}', 'name':$(this).val()})
	}
});

function display_alternatives(data){
	if ($("#alternatives").length == 0){
		$( "input:text[name=name]" ).after("\
<div class='alert-box alert' id='alternativebox'>There seem to be objects with similar name. Do you maybe mean one of those?\
<ul id='alternatives' style='margin-top:10px;'></ul>\
</div>")
	}
	$("#alternatives").empty()
	for (var i=0; i < data.length; i++) {
		$("#alternatives").append(data[i])
	};
}
{% endblock %}